---
source: fortitude/src/rules/correctness/mod.rs
expression: diagnostics
snapshot_kind: text
---
./resources/test/fixtures/correctness/C151.f90:6:34: C151 [*] Semicolon following inline if-statement is misleading
  |
4 |   integer :: i
5 |
6 |   if (condition) print *, "Hello"; print *, "World!"
  |                                  ^ C151
7 |
8 |   if (condition) print * , &
  |
  = help: Convert to `if(...) then` statement

ℹ Safe fix
3  3  |   logical, parameter :: condition = .false.
4  4  |   integer :: i
5  5  | 
6     |-  if (condition) print *, "Hello"; print *, "World!"
   6  |+  if (condition) then
   7  |+    print *, "Hello"
   8  |+  end if
   9  |+  print *, "World!"
7  10 | 
8  11 |   if (condition) print * , &
9  12 |     "Hello"; print *, "World!"

./resources/test/fixtures/correctness/C151.f90:9:12: C151 [*] Semicolon following inline if-statement is misleading
   |
 8 |   if (condition) print * , &
 9 |     "Hello"; print *, "World!"
   |            ^ C151
10 |
11 |   ! The following is bad practice, but shouldn't trigger
   |
   = help: Convert to `if(...) then` statement

ℹ Safe fix
5  5  | 
6  6  |   if (condition) print *, "Hello"; print *, "World!"
7  7  | 
8     |-  if (condition) print * , &
9     |-    "Hello"; print *, "World!"
   8  |+  if (condition) then
   9  |+    print * , &
   10 |+    "Hello"
   11 |+  end if
   12 |+  print *, "World!"
10 13 | 
11 14 |   ! The following is bad practice, but shouldn't trigger
12 15 |   if (condition) then

./resources/test/fixtures/correctness/C151.f90:35:32: C151 [*] Semicolon following inline if-statement is misleading
   |
33 |   ! To confirm that the fixes work when combined, see the test
34 |   ! `c151_fix_multiple_inline_if` in `rules/correctness/mod.rs`
35 |   if (condition) print *, "foo"; if(.true.) print *, "bar"; if(.false.) print *, "baz";
   |                                ^ C151
36 |
37 |   ! The indentation will get a little weird in some cases:
   |
   = help: Convert to `if(...) then` statement

ℹ Safe fix
32 32 |   ! For multiple inline if statements, each should be moved to its own line.
33 33 |   ! To confirm that the fixes work when combined, see the test
34 34 |   ! `c151_fix_multiple_inline_if` in `rules/correctness/mod.rs`
35    |-  if (condition) print *, "foo"; if(.true.) print *, "bar"; if(.false.) print *, "baz";
   35 |+  if (condition) then
   36 |+    print *, "foo"
   37 |+  end if
   38 |+  if(.true.) print *, "bar"; if(.false.) print *, "baz";
36 39 | 
37 40 |   ! The indentation will get a little weird in some cases:
38 41 |   do i = 1, 3; if (i == 2) print *, "foo"; end do

./resources/test/fixtures/correctness/C151.f90:35:59: C151 [*] Semicolon following inline if-statement is misleading
   |
33 |   ! To confirm that the fixes work when combined, see the test
34 |   ! `c151_fix_multiple_inline_if` in `rules/correctness/mod.rs`
35 |   if (condition) print *, "foo"; if(.true.) print *, "bar"; if(.false.) print *, "baz";
   |                                                           ^ C151
36 |
37 |   ! The indentation will get a little weird in some cases:
   |
   = help: Convert to `if(...) then` statement

ℹ Safe fix
32 32 |   ! For multiple inline if statements, each should be moved to its own line.
33 33 |   ! To confirm that the fixes work when combined, see the test
34 34 |   ! `c151_fix_multiple_inline_if` in `rules/correctness/mod.rs`
35    |-  if (condition) print *, "foo"; if(.true.) print *, "bar"; if(.false.) print *, "baz";
   35 |+  if (condition) print *, "foo"; if(.true.) then
   36 |+    print *, "bar"
   37 |+  end if
   38 |+  if(.false.) print *, "baz";
36 39 | 
37 40 |   ! The indentation will get a little weird in some cases:
38 41 |   do i = 1, 3; if (i == 2) print *, "foo"; end do

./resources/test/fixtures/correctness/C151.f90:38:42: C151 [*] Semicolon following inline if-statement is misleading
   |
37 |   ! The indentation will get a little weird in some cases:
38 |   do i = 1, 3; if (i == 2) print *, "foo"; end do
   |                                          ^ C151
39 | end program p
   |
   = help: Convert to `if(...) then` statement

ℹ Safe fix
35 35 |   if (condition) print *, "foo"; if(.true.) print *, "bar"; if(.false.) print *, "baz";
36 36 | 
37 37 |   ! The indentation will get a little weird in some cases:
38    |-  do i = 1, 3; if (i == 2) print *, "foo"; end do
   38 |+  do i = 1, 3; if (i == 2) then
   39 |+    print *, "foo"
   40 |+  end if
   41 |+  end do
39 42 | end program p
